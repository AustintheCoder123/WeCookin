<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<link rel="stylesheet" href="../static/style.css">
<link rel="stylesheet" href="style.css">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class="PLACEHOLDER_forBookMark">

</div>
<div class="options">
    <button onclick="saveRecipe()"> Save Recipe  </button>
    <input id="restrictionsPrompt" placeholder="Dietary restrictions here!">
    <button>settings</button>
</div>
<div class="recipeBody">
    <h1 id = "mainRecipeName" class="recipeName">Burger</h1>
    <p id = "mainRecipeTime" class="recipeTime">1 hour</p>
    <p id = "mainRecipeNutrition" class="recipeCal">1000 calories</p>
    <!-- <img src="../static/pngtree-vegan-friendly-label-png-png-image_5698160.png"> -->
    <!-- <img src="../statc/gluten-free-logo-png_seeklogo-530821.png"> -->
    <p id = "mainRecipeDescription">Description</p>
    <p id = "mainRecipeIngredients">Ingredients</p>
    <p id = "mainRecipeInstructions"> Instructions</p>

</div>
<div class="textboxDiv">
    <input id="foodPrompt" placeholder="Start making recipes!" >
    <button onclick="createRecipe()">Enter</button>
</div>

</body>

<script>

    pywebview.api.init();
    var currentRecipe;
    var recipeDict = {};
    

    async function createRecipe(){
        let foodRecipe = document.getElementById("foodPrompt").value;
        console.log(foodRecipe);
        let restrictions = document.getElementById("restrictionsPrompt").value;
        console.log(restrictions);
        recipe = await pywebview.api.create_recipe(foodRecipe, restrictions);
        currentRecipe = recipe;
        setRecipe();
    }

    function saveRecipe(){
        console.log(currentRecipe);
        console.log(recipeDict);

        recipeDict[currentRecipe["name"]] = currentRecipe;
        console.log(recipeDict);
    }

    function setRecipe(){
        if(currentRecipe){
            document.getElementById("mainRecipeName").textContent = currentRecipe.name;
            document.getElementById("mainRecipeTime").textContent = currentRecipe.time;
            document.getElementById("mainRecipeNutrition").textContent = currentRecipe.nutrition;
            document.getElementById("mainRecipeDescription").textContent = currentRecipe.desc;
            document.getElementById("mainRecipeIngredients").textContent = currentRecipe.ingredients;
            document.getElementById("mainRecipeInstructions").textContent = currentRecipe.instructions;
        }
    }

    function recipeFromBar(elementId){

    }

</script>
</html>